# This file contains support for building native images with icu4j dependency.

# Includes non-shaded ICU4J while languages still depend on it.
ImageClasspath = ${.}/icu4j.jar:${.}/icu4j-charset.jar:${.}/truffle-icu4j.jar
#ImageModulePath = ${.}/truffle-icu4j.jar

# --rerun-class-initialization-at-runtime=org.graalvm.shadowed.com.ibm.icu
Args = -H:ClassInitialization=com.ibm.icu:rerun,org.graalvm.shadowed.com.ibm.icu:rerun \
       -H:ReflectionConfigurationFiles=${.}/icu4j-reflection-config.json \
       -H:ResourceConfigurationFiles=${.}/icu4j-resource-config.json \
       -H:Features=com.oracle.svm.truffle.ICU4JFeature \
       -H:ServiceLoaderFeatureExcludeServiceProviders=com.ibm.icu.charset.CharsetProviderICU
